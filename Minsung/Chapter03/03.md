# 3.3 비동기 메세징 패턴 응용 통신

메세징은 서비스가 메세지를 비동적으로 주고받는 통신 방식입니다.

메세징 기반 애플리케이션은 서비스 간 중개 역할을 하는 메세지 브로커를 사용하지만 서비스가 직접 서로 통신하는 브로커리스 아키텍쳐도 있습니다.

<br>

## 3.3.1 메세징 개요

메세지는 메세지 채널을 통해 교환됩니다.

송신자가 채널에 메세지를 쓰면 수신자는 채널에서 메세지를 읽습니다.

<br>

### 메세지

메세지는 헤더와 바디로 구성됩니다.

헤더에는 송신된 데이터에 관한 메타데이터에 해당하는 키/값 등이 있습니다.

메세지 바디에는 실제로 송신할 텍스트 또는 이진 포맷의 데이터입니다.

메세지의 종류는 다양합니다.

* document : 데이터만 포함된 제네릭한 메세지, 메세지를 어떻게 해석할지는 수신자가 결정합니다.
* command : RPC 요청과 동등한 메세지로 호출할 작업과 전달할 매개변수가 지정되어 있습니다.
* event : 송신자에게 어떤 사건이 발생했음을 알리는 메세지로 이벤트는 대부분 Order, Customer 같은 도메인 객체의 상태 변화를 나타내는 도메인 이벤트입니다.

이 책에서는 command와 event를 두루 활용하는 방식으로 MSA에 접근합니다.

<br>

